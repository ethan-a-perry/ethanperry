---
import Base from './Base.astro';
import { formatDate } from '../wwwroot/js/utils';
import Link from "../components/Link.astro";
const { frontmatter } = Astro.props;
const { title, description, seoTitle, seoDescription, datePublished, dateUpdated, image, tags, links } = frontmatter;
---

<Base title=`${seoTitle || title} | Case Study | Ethan Perry` description={seoDescription || description} image={image} metadata={{ datePublished, dateUpdated, tags }}>
	<section class="flow-1 max-width-70ch">
		<h1>{title}</h1>
		<p>{description}</p>
	</section>

	<section class="with-border-top">
		<span>Published {formatDate(datePublished)}</span>
        {dateUpdated && (
            <span>| Updated {formatDate(dateUpdated)}</span>
        )}

		{links && (
			<ul class="flex-row-1 flex-wrap margin-top-1">
                {links.map((link: any) =>
                    <li>
                        <Link href={link.url} classes="fs-base button" target="_blank" rel="noopener noreferrer">{link.text}</Link>
                    </li>
                )}
            </ul>
        )}
	</section>

    {image && (
            <section class="post-image margin-top-4">
                <img src={image.src} alt={image.alt} srcset={image.srcset} sizes={image.sizes} />
            </section>
    )}

    <section class="max-width-70ch margin-top-4">
        <div class="prose">
            <slot />
        </div>
    </section>
</Base>
