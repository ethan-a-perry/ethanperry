---
import '../wwwroot/css/main.css';

import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

import { getImage } from 'astro:assets'
import faviconPngSrc from '../wwwroot/assets/images/favicon.png'
import faviconSvgSrc from '../wwwroot/assets/images/favicon.svg'

import SEO from "../components/SEO.astro";

// for iOS versions < 15.4
const appleTouchIcon = await getImage({
    src: faviconPngSrc,
    width: 180,
    height: 180,
    format: 'png'
})

const faviconSvg = await getImage({ src: faviconSvgSrc, format: 'svg' })

const { title, description, image, metadata = {}, robots, classes } = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- SEO -->
    <title>{title}</title>
    <meta name="description" content={description}/>
    <link rel="canonical" href={Astro.url} />
    <SEO title={title} description={description} url={Astro.url} image={image} metadata={metadata} robots={robots}/>

    <!-- Sitemap -->
    <link rel="sitemap" href="/sitemap-index.xml" />

    <!-- Favicon -->
    <link rel="icon" href="/favicon.ico" sizes="32x32" />
    <link rel="icon" href={faviconSvg.src} type="image/svg+xml" />
    <link rel="apple-touch-icon" href={appleTouchIcon.src} />
</head>
<body>

<Header />

<main class={`content-grid ${classes || ""}`}>
    <slot />
</main>

<Footer />

</body>
</html>